<!DOCTYPE html>
<html>
<head>
   	<meta name="keywords" content="具体的关键字">
	<meta name="description" content="具体的页面描述">
	<meta name="author" content="game">
	<meta http-equiv="content-language" content="zh-CN"/>
	<meta charset="utf-8">
    <title>动画demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" type="text/css" href="css/common.css">
    <link rel="stylesheet" type="text/css" href="css/demo.css">
</head>
<body>
	<div class="index-wrapper">

        <div id="contentBox">
          <!--<div class="partItem"></div>-->
        </div>

    </div>

  </div>
	<script type="text/javascript" src="js/jquery-2.2.4.min.js"></script>
	<script type="text/javascript" src="js/flexible.js"></script>
	<script type="text/javascript" src="js/common.js"></script>
	<script type="text/javascript" src="js/index-ctrl.js"></script>
<script type="text/javascript">

  $(function(){

    // 斜线高度
    console.log(Math.sqrt( Math.pow(200,2)+Math.pow(100,2) ));

    /**
     * js控制角度
     * @param tan
     * @returns {number}
     */
    function getTanDeg(tan) {
      return Math.atan(tan) / (Math.PI / 180);
    }


    let point = 10; // 一共10个目标点
    let lineColor = '#bfa'; // 线条颜色
    let lineWidth = 2; // 线条粗细

    let $contentBox = $('#contentBox'); // 容器box
    let itemWidth = $contentBox.width(); // 子元素宽度
    let itemHeight = $contentBox.height()/(point/2 - 1); // 子元素高度

    // 添加子元素，并定义样式
    for(let i = 0; i<point/2 - 1; i++){
      $contentBox.append('<div class="partItem"></div>');
      $('.partItem').eq(i)
        .width(itemWidth)
        .height(itemHeight).css({
        'borderTop': `${lineWidth}px solid ${lineColor}`
      });
    }
    // 最后一个元素不要边框
    $('.partItem:last-child').css({
      'borderBottom': `${lineWidth}px solid ${lineColor}`
    });

    // 子元素，添加伪类样式
    $(`<style>.partItem:before{
      width: ${lineWidth}px;
      height: ${Math.sqrt( Math.pow(itemWidth,2)+Math.pow(itemHeight,2) )}px;
      background-color: ${lineColor};
      transform: rotate(${getTanDeg(itemWidth/(itemHeight - lineWidth))+'deg'});

    }</style>`).appendTo('head');

  });

</script>
</body>
</html>
